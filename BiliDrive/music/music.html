<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>My Files | 1299172402.github.io</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="My Files" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://1299172402.github.io/BiliDrive/file.html" />
<meta property="og:url" content="https://1299172402.github.io/BiliDrive/file.html" />
<meta property="og:site_name" content="1299172402.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://1299172402.github.io/BiliDrive/file.html","headline":"My Files","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/assets/css/style.css?v=13fa2ac36faa2359e4683b67c479ea4590bf6bf5">
  </head>

<body>
	
	
	<script>

		function timestampToTime(timestamp) {
        var date = new Date(timestamp * 1000);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
        Y = date.getFullYear() + '-';
        M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';
        D = date.getDate() + ' ';
        h = date.getHours() + ':';
        m = date.getMinutes() + ':';
        s = date.getSeconds();
        return Y+M+D+h+m+s;
    }
	
	
	function getFileSize(fileByte) {
    var fileSizeByte = fileByte;
    var fileSizeMsg = "";
    if (fileSizeByte < 1048576) fileSizeMsg = (fileSizeByte / 1024).toFixed(2) + "KB";
    else if (fileSizeByte >= 1048576 && fileSizeByte < 1073741824) fileSizeMsg = (fileSizeByte / (1024 * 1024)).toFixed(2) + "MB";
    else if (fileSizeByte >= 1073741824 && fileSizeByte < 1099511627776) fileSizeMsg = (fileSizeByte / (1024 * 1024 * 1024)).toFixed(2) + "GB";
    else fileSizeMsg = (fileSizeByte / (1024 * 1024 * 1024 * 1024)).toFixed(2) + "TB";
    return fileSizeMsg;
}



		
		let requestURL = '/history.json';
		let request = new XMLHttpRequest();
		request.open('GET', requestURL);
		request.responseType = 'text';
		request.send();
		
        request.onload = function() {
			document.write('<center><h1>文件目录</h1></center>');
			//document.write('<center><p><a herf="/history.json">全部下载</a></p></center>');
			//document.write('<p></p>');
			//document.write('<input value="aaass" type="text" name="bdex" style="width:600px;height:300px"></input>');
			var res = request.response;
			obj = JSON.parse(res);
			
			for (var k in obj){
				//document.write('');<input type="checkbox" value = "'+obj[k].url.substr(30,40)+'">'
				document.write('<center><h2>'+obj[k].filename+'</h2></center>');
				document.write('<center>日期 '+timestampToTime(obj[k].time)+'</center></br>');
				document.write('<center>大小 '+getFileSize(obj[k].size)+'</center></br>');
				document.write('<center>SHA1 '+obj[k].sha1+'</center></br>');
				document.write('<center>bdex://'+obj[k].url.substr(30,40)+'</center></br>');
				document.write('<p></p>');
			}

		};
	</script>
	
</body>


</html>